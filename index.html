<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guante Blanco</title>

  <!-- Fuentes Cinzel y Cinzel Decorative -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&family=Cinzel+Decorative&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- HERO FULLSCREEN -->
  <section class="hero">
    <img src="images/logo.png" alt="Logo Guante Blanco" class="logo-hero">
  </section>

  <!-- TEXTO DE PRESENTACIÓN -->
  <section class="presentacion">
    <p>cuida de lo que te mueve</p>
  </section>

  <!-- CONTENIDO PRINCIPAL -->
  <div class="main-content">

    <!-- SECCIÓN SERVICIOS -->
    <section class="servicios">
      <h2>SERVICIOS</h2>
      <img src="images/services.png" alt="Listado de servicios de limpieza de coches" class="imagen-seccion">
    </section>

    <!-- SECCIÓN AGENDA -->
    <section class="agenda">
      <h2>AGENDA UNA CITA</h2>
      <img src="images/calendar.png" alt="Calendario" class="imagen-seccion">

      <!-- FORMULARIO PEDIR CITA -->
      <div class="form-toggle">
        <button class="toggle-btn">Pedir una cita</button>
        <form class="toggle-form" id="form-cita" action="https://formsubmit.co/ae11fd4ef1d5609b19290bf8958a1ba1" method="POST">
          <input type="hidden" name="_captcha" value="false">
          <input type="hidden" name="_subject" value="Nueva solicitud de cita">
          <input type="hidden" name="_template" value="table">

          <input type="text" name="nombre" placeholder="Nombre y apellidos" required>
          <input type="email" name="email" placeholder="Correo electrónico" required>
          <input type="tel" name="telefono" placeholder="Número de teléfono" required>
          <input type="text" name="modelo" placeholder="Modelo de vehículo" required>
          
          <!-- Fecha y turno -->
          <label for="fecha">Selecciona la fecha deseada:</label>
          <input type="date" name="fecha" id="fecha" required>

          <fieldset>
            <legend>Turno preferente</legend>
            <label><input type="radio" name="turno" value="Mañana" required> Mañana</label><br>
            <label><input type="radio" name="turno" value="Tarde"> Tarde</label><br>
            <label><input type="radio" name="turno" value="Especificado en mensaje"> Especificado en mensaje</label>
          </fieldset>

          <!-- Servicios solicitados -->
          <fieldset>
            <legend>Servicios solicitados</legend>
            <label><input type="checkbox" name="servicios[]" value="Lavado exterior"> Lavado exterior</label><br>
            <label><input type="checkbox" name="servicios[]" value="Lavado interior"> Lavado interior</label><br>
            <label><input type="checkbox" name="servicios[]" value="Pulido y encerado"> Pulido y encerado</label><br>
            <label><input type="checkbox" name="servicios[]" value="Limpieza motor"> Limpieza motor</label>
          </fieldset>

          <textarea name="mensaje" rows="4" placeholder="Mensaje adicional (opcional)"></textarea>
          <button type="submit">Pedir una cita</button>
          <p class="mensaje-exito" id="mensaje-cita">El correo ha sido enviado y puesto en cola de revisión, le responderemos lo antes posible.</p>
        </form>
      </div>
    </section>

    <!-- SECCIÓN CONTACTO -->
    <section class="contacto">
      <h2>CONTACTO</h2>
      <div class="form-toggle">
        <button class="toggle-btn">Vía e-mail</button>
        <form class="toggle-form" id="form-contacto" action="https://formsubmit.co/c7e333301c7758a6d44f87a1eac2cc9d" method="POST">
          <input type="hidden" name="_captcha" value="false">
          <input type="hidden" name="_subject" value="Nuevo mensaje de contacto">
          <input type="hidden" name="_template" value="table">

          <input type="text" name="nombre" placeholder="Nombre y apellidos" required>
          <input type="email" name="email" placeholder="Correo electrónico" required>
          <textarea name="mensaje" rows="4" placeholder="Mensaje"></textarea>
          <button type="submit">Enviar</button>
          <p class="mensaje-exito" id="mensaje-contacto">El correo ha sido enviado y puesto en cola de revisión, le responderemos lo antes posible.</p>
        </form>
      </div>
      <p class="redes">
        <a href="https://instagram.com/ivzg03_/" target="_blank">Instagram</a> |
        <a href="https://wa.me/34636695321" target="_blank">WhatsApp</a> |
        <a href="tel:+34636695321">Llamar</a>
      </p>
    </section>

  </div>

  <!-- SCRIPT PARA FORMULARIOS PLEGABLES Y MENSAJE DE ÉXITO -->
  <script>
    // Formularios plegables
    const toggleButtons = document.querySelectorAll('.toggle-btn');
    toggleButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const form = btn.nextElementSibling;
        form.classList.toggle('active');
        btn.textContent = form.classList.contains('active')
          ? 'Cerrar'
          : btn.textContent.includes('Cita')
          ? 'Pedir una cita'
          : 'Vía e-mail';
      });
    });

    // Fade con IntersectionObserver
    const presentacion = document.querySelector('.presentacion');
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if(entry.isIntersecting) {
          presentacion.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });
    observer.observe(presentacion);

    // Mostrar mensaje de éxito sin recargar
    function manejarFormulario(formId, mensajeId) {
      const form = document.getElementById(formId);
      const mensaje = document.getElementById(mensajeId);

      form.addEventListener('submit', e => {
        e.preventDefault();

        // Enviar datos a FormSubmit
        fetch(form.action, {
          method: 'POST',
          body: new FormData(form)
        })
        .then(() => {
          mensaje.classList.add('visible');
          form.reset();

          // Ocultar mensaje tras 5 segundos
          setTimeout(() => mensaje.classList.remove('visible'), 5000);
        })
        .catch(() => {
          alert('Hubo un error al enviar el formulario. Inténtalo de nuevo más tarde.');
        });
      });
    }

    manejarFormulario('form-cita', 'mensaje-cita');
    manejarFormulario('form-contacto', 'mensaje-contacto');
  </script>

</body>
</html>

